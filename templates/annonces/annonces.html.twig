{% extends 'base.html.twig' %}

{% block title %}Home
{% endblock %}

{% block body %}
<script src="{{ asset('assets/js/annonces.js') }}"></script>
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">
		<h1 class="text-center">Les annonces üëç </h1>
	</div>

<section id="annonces">
	<div>
	{# image cat√©gorie selection voir plus tard #}
	{# <img src={{ asset("assets/img/categorie/{{item.linkCategorie.id}}.jpg") }} alt=""> #}

	</div>
	{# variable de diff√©renciation des popUP #}
	{% set popUpNumber = 1 %}
	{% for item in annonces %}
    
    {# <pre>
		{{ dump(item) }}
	</pre> #}
	<div class="card card-centrer global">
		{# <img class="card-img-top" src="#" alt="#"> #}
		<div class="card-body">
			<h5 class="card-title">{{ item.annonces }}</h5>
			<p class="card-title">De : {{ item.linkAnnonce.prenom }}</p>
			<p class="card-text">post√© le : {{ item.date ? item.date|date('Y-m-d √† H') : '' }} heures </p>
			<p class="card-text">{{ item.description }}</p>
			<p class="card-text">{{ item.linkCategorie.categorie }} <img src="../../assets/img/logo/{{item.linkCategorie.id}}.png" alt="{{ item.linkCategorie.categorie }}"></p>
			{# <p class="card-text">{{ item.linkCategorie.categorie }}</p>
			<p class="card-text">{{ item.linkCategorie.id }}</p>
			<img src="../../assets/img/categorie/{{item.linkCategorie.id}}.jpg" alt="{{ item.linkCategorie.categorie }}"> #}
			<a href="{{ path('annonces_show', {'id': item.id}) }}" class="btn btn-primary">Plus d'info...</a>
			<a href="#" id="suite{{popUpNumber}}">Lire la suite</a>
			{# <a href="registration.php" class="btn btn-primary">Inscrivez-vous !</a> #}
			{# <p>pop num√©ro {{ popUpNumber }}</p> #}
		</div>
	</div>
	<div class=" card card-centrer popUp" id="popUpAnnonceNum{{popUpNumber}}">
		<div class="card-body">
        	<h5 class="card-title">Vous lisez la suite</h5>
			<h5 class="card-title">{{ item.annonces }}</h5>
			<p class="card-title">De : {{ item.linkAnnonce.prenom }}</p>
			<p class="card-text">post√© le : {{ item.date ? item.date|date('Y-m-d √† H') : '' }} heures </p>
			<p class="card-text">{{ item.description }}</p>
			<p class="card-text">{{ item.linkCategorie.categorie }} <img src="../../assets/img/logo/{{item.linkCategorie.id}}.png" alt="{{ item.linkCategorie.categorie }}"></p>
        	<br>
        	<a href="#" class="retour">pour revenir</a>
		</div>
    </div>
	
	{# incr√©emntation  diff√©renciation des popUP #}
	{% set popUpNumber = (popUpNumber + 1) %}
{% endfor %}
</section>

{# d√©clare le nombre de popUp g√©n√©r√© dans le script #}
<script> popUpNumber = {{ popUpNumber }} </script>


{% endblock %}
